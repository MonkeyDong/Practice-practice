<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>E 8</title>
    <script src="./lib/vue.js"></script>
  </head>

<body>
  <div id="app">
    <input type="button" value="Move" @click='move'>
    <input type="button" value="Stop" @click='stop'>
    <h3>{{ msg }}</h3>
  </div>
  <script>
  var vm = new Vue(
    {
        el: '#app',
        data:{
            msg: 'Hello Vue',
            intervalId:null,
        },
        methods: {
            move(){
              //箭头函数
                if(this.intervalId) return;
                this.intervalId =  setInterval(() => {
                    var start = this.msg.substring(0, 1)
                    var end = this.msg.substring(1)
                    this.msg = end + start;
                }, 400) },
            stop(){
                clearInterval(this.intervalId)
                this.intervalId = null }
            },
    })
  </script>

</body>
</html>
